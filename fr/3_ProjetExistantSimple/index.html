<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="canonical" href="https://iblasquez.github.io/tuto-copilot-genai/fr/3_ProjetExistantSimple/" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Mise en place de nouvelles r√®gles m√©tiers dans un projet simple - Copilot & Co Tutorial</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Mise en place de nouvelles r\u00e8gles m\u00e9tiers dans un projet simple";
        var mkdocs_page_input_path = "fr/3_ProjetExistantSimple.md";
        var mkdocs_page_url = "/tuto-copilot-genai/fr/3_ProjetExistantSimple/";
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> Copilot & Co Tutorial
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">version fran√ßaise</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../">Accueil</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../1_Installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../2_PriseEnMainAssistant/">Prise en main de l'assistant de code</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Mise en place de nouvelles r√®gles m√©tiers dans un projet simple</a>
    <ul class="current">
    <li class="toctree-l2"><a class="reference internal" href="#31-avoir-une-vue-densemble-du-projet">3.1 Avoir une vue d'ensemble du projet</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#32-mettre-en-place-des-tests-unitaires">3.2 Mettre en place des tests unitaires</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#couvrir-la-classe-book">Couvrir la classe Book</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#couvrir-la-classe-librarymember">Couvrir la classe LibraryMember</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#33-aider-a-la-bonne-mise-en-place-dune-nouvelle-regle-metier">3.3 Aider √† la bonne mise en place d'une nouvelle r√®gle m√©tier</a>
        <ul>
    <li class="toctree-l3"><a class="reference internal" href="#bien-comprendre-et-implementer-la-regle-metier-liee-a-la-validite-dun-isbn-classe-isbnvalidator">Bien comprendre et impl√©menter la r√®gle m√©tier li√©e √† la validit√© d'un ISBN (classe ISBNValidator)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#tester-la-regle-metier-classe-isbnvalidatortest">Tester la r√®gle m√©tier (classe ISBNValidatorTest)</a>
    </li>
    <li class="toctree-l3"><a class="reference internal" href="#ameliorer-la-qualite-du-code-de-la-regle-metier">Am√©liorer la qualit√© du code de la r√®gle m√©tier</a>
    </li>
        </ul>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#34-aider-a-lecriture-dune-expression-reguliere-pattern-matching">3.4 Aider √† l'√©criture d'une expression r√©guli√®re (pattern matching)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#35-discuter-pour-le-plaisir-de-decouvrir-de-nouveaux-outils">3.5 Discuter pour le plaisir de d√©couvrir de nouveaux outils</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#36-aider-a-lutilisation-de-streams-et-lambdas">3.6 Aider √† l'utilisation de streams et lambdas</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#37-suggerer-du-code-plus-complexe-avec-streams">3.7 Sugg√©rer du code plus complexe (avec streams)</a>
    </li>
    <li class="toctree-l2"><a class="reference internal" href="#38-explorer-dautres-cas-dusage">3.8 Explorer d'autres cas d'usage</a>
    </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../4_ProjetExistantComplexe/">Reprise d'un projet complexe existant (legacy code)</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../Liens/">Quelques liens utiles</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">english version</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../en/">Home</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../en/1_Installation/">Installation</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../en/Resources/">Useful Resources</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">Copilot & Co Tutorial</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">version fran√ßaise</li>
      <li class="breadcrumb-item active">Mise en place de nouvelles r√®gles m√©tiers dans un projet simple</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="3-aider-a-la-mise-en-place-de-nouvelles-regles-metiers-sur-un-projet-existant-simple">3. Aider √† la mise en place de nouvelles r√®gles m√©tiers sur un projet existant simple<a class="headerlink" href="#3-aider-a-la-mise-en-place-de-nouvelles-regles-metiers-sur-un-projet-existant-simple" title="Permanent link">&para;</a></h1>
<hr />
<ul>
<li>
<p><a href="#31-avoir-une-vue-densemble-du-projet">3.1 Avoir une vue d'ensemble du projet</a></p>
</li>
<li>
<p><a href="#32-mettre-en-place-des-tests-unitaires">3.2 Mettre en place des tests unitaires</a></p>
</li>
<li><a href="#couvrir-la-classe-book">Couvrir la classe <code>Book</code></a></li>
<li>
<p><a href="#couvrir-la-classe-librarymember">Couvrir la classe <code>LibraryMember</code></a></p>
</li>
<li>
<p><a href="#33-aider-√†-la-bonne-mise-en-place-dune-nouvelle-r√®gle-m√©tier">3.3 Aider √† la <em>bonne</em> mise en place d'une nouvelle r√®gle m√©tier</a></p>
</li>
<li><a href="#am√©liorer-la-qualit√©-du-code-de-la-r√®gle-m√©tier">Bien comprendre et impl√©menter la r√®gle m√©tier li√©e √† la validit√© d'un ISBN (classe <code>ISBNValidator</code>)</a></li>
<li><a href="#tester-la-r√®gle-m√©tier-classe-isbnvalidatortest">Tester la r√®gle m√©tier (classe <code>ISBNValidatorTest</code>)</a></li>
<li>
<p><a href="#am√©liorer-la-qualit√©-du-code-de-la-r√®gle-m√©tier">Am√©liorer la qualit√© du code de la r√®gle m√©tier</a></p>
</li>
<li>
<p><a href="#34-aider-√†-l√©criture-dune-expression-r√©guli√®re-pattern-matching">3.4 Aider √† l'√©criture d'une expression r√©guli√®re (pattern matching)</a></p>
</li>
<li>
<p><a href="#35-discuter-pour-le-plaisir-de-d√©couvrir-de-nouveaux-outils">3.5 Discuter pour le plaisir de d√©couvrir de nouveaux outils</a></p>
</li>
<li>
<p><a href="#36-aider-√†-lutilisation-de-streams-et-lambdas">3.6 Aider √† l'utilisation de streams et lambdas</a></p>
</li>
<li>
<p><a href="#37-sugg√©rer-du-code-plus-complexe-avec-streams">3.7 Sugg√©rer du code plus complexe (avec streams)</a></p>
</li>
<li>
<p><a href="#38-explorer-dautres-cas-dusage">3.8 Explorer d'autres cas d'usage</a></p>
</li>
</ul>
<hr />
<p>Commencez par cloner le projet <strong>bookai</strong> depuis le d√©p√¥t GitHub √† l'adresse suivante : <a href="https://github.com/iblasquez/bookai">https://github.com/iblasquez/bookai</a>, puis ouvrez-le dans votre IDE pr√©f√©r√©.</p>
<h2 id="31-avoir-une-vue-densemble-du-projet">3.1 Avoir une vue d'ensemble du projet<a class="headerlink" href="#31-avoir-une-vue-densemble-du-projet" title="Permanent link">&para;</a></h2>
<p>V√©rifiez d'abord que le projet compile bien, puis parcourez rapidement le code pour avoir une premi√®re impression.</p>
<p>Ce projet en est encore √† ses d√©buts et semble s'inscrire dans le contexte m√©tier d'une biblioth√®que. Il est compos√© de trois classes principales : <code>Book</code>, <code>LibraryMember</code>, et <code>Library</code>.<br />
Aucun test n'a encore √©t√© r√©ellement √©crit dans <code>BookTest</code>.</p>
<p>Dans un projet aussi simple, il n'est pas n√©cessaire de faire appel √† l'assistant de code pour obtenir une vue d'ensemble.</p>
<h2 id="32-mettre-en-place-des-tests-unitaires">3.2 Mettre en place des tests unitaires<a class="headerlink" href="#32-mettre-en-place-des-tests-unitaires" title="Permanent link">&para;</a></h2>
<p>Afin de partir sur de bonnes bases (et r√©viser ce qui a √©t√© vu dans la partie pr√©c√©dente), vous allez commencer par ajouter des tests unitaires √† ce projet.</p>
<h3 id="couvrir-la-classe-book">Couvrir la classe <code>Book</code><a class="headerlink" href="#couvrir-la-classe-book" title="Permanent link">&para;</a></h3>
<ul>
<li>La classe <code>BookTest</code> existe d√©j√†. Ouvrez-la, supprimez le test inutile qu'elle contient, et laissez votre assistant de code vous proposer une suite de tests que vous validerez.</li>
<li>Ex√©cutez les tests.</li>
<li>Lancez la couverture de code. Comme la classe <code>Book</code> est un simple POJO, les deux ou trois tests propos√©s par votre assistant devraient suffire pour atteindre une couverture de 100%.</li>
</ul>
<p><em>Remarque : si vous ne savez pas ce qu'est un POJO, vous pouvez demander √† votre assistant de code de vous l'expliquer.</em></p>
<h3 id="couvrir-la-classe-librarymember">Couvrir la classe <code>LibraryMember</code><a class="headerlink" href="#couvrir-la-classe-librarymember" title="Permanent link">&para;</a></h3>
<ul>
<li>Ouvrez la classe <code>LibraryMember</code> et dans le chat de l'assistant de code, utilisez la commande slash <code>/tests</code> (ou tapez directement <code>Generate unit tests</code>) pour g√©n√©rer les tests.</li>
<li>Utilisez votre IDE pour cr√©er la classe de test <code>LibraryMemberTest</code> au bon endroit et ins√©rez-y le code g√©n√©r√© par l'assistant.</li>
<li>
<p>Assurez-vous que les tests compilent correctement <strong>sans modifier le code de production</strong>.
Si n√©cessaire, ajustez <strong>le code des tests</strong> pour qu'il fonctionne, par exemple peut-√™tre devrez-vous compl√©ter le constructeur de <code>Book</code> (avec ou sans l'aide de l'assistant).</p>
</li>
<li>
<p>Par ailleurs, si l'assistant a g√©n√©r√© une m√©thode de test comme <code>borrowBookTwice</code>, il vous faudra d√©cider de la conserver ou non. Le comportement permettant de g√©rer l'emprunt d'un livre d√©j√† emprunt√© n'est pas encore impl√©ment√© dans le code, √† vous donc de choisir entre :</p>
</li>
<li>
<p>Supprimer ce test si ce comportement ne vous semble pas pertinent pour l'instant.</p>
</li>
<li>
<p>Conserver ce test si vous estimez qu'il est important de g√©rer cette situation d√®s maintenant, auquel cas vous devrez modifier le code de production pour que le test passe avec succ√®s (avec ou sans l'aide de l'assistant).</p>
</li>
<li>
<p>Lancez les tests et la couverture de code.</p>
</li>
<li>Consultez la classe <code>LibraryMember</code>.</li>
</ul>
<p>Si certaines portions de la classe <code>LibraryMember</code> ne sont pas couvertes par les tests (et si vous souhaitez qu'elles le deviennent), s√©lectionnez ces parties de code et  g√©n√©rez de nouveaux tests avec la commande <code>/tests</code>. Il ne vous reste plus qu'√† ins√©rer le code des nouveaux tests dans la classe <code>LibraryMember</code>, de les ex√©cuter et de v√©rifier √† nouveau la couverture de code.</p>
<blockquote>
<p><strong>Rappel :</strong> Dans un projet, l'objectif n'est pas n√©cessairement d'obtenir 100% de couverture.  </p>
</blockquote>
<p>Ici, l'id√©e est juste de montrer comment ajouter rapidement des tests unitaires.
D'ailleurs, pour l'instant, nous n'√©crirons pas de tests pour la classe <code>Library</code>.</p>
<h2 id="33-aider-a-la-bonne-mise-en-place-dune-nouvelle-regle-metier">3.3 Aider √† la <em>bonne</em> mise en place d'une nouvelle r√®gle m√©tier<a class="headerlink" href="#33-aider-a-la-bonne-mise-en-place-dune-nouvelle-regle-metier" title="Permanent link">&para;</a></h2>
<h3 id="bien-comprendre-et-implementer-la-regle-metier-liee-a-la-validite-dun-isbn-classe-isbnvalidator">Bien comprendre et impl√©menter la r√®gle m√©tier li√©e √† la validit√© d'un ISBN (classe <code>ISBNValidator</code>)<a class="headerlink" href="#bien-comprendre-et-implementer-la-regle-metier-liee-a-la-validite-dun-isbn-classe-isbnvalidator" title="Permanent link">&para;</a></h3>
<p>Retournez dans la classe <code>Book</code> et examinez ses attributs.
Vous constaterez que l'<code>isbn</code> est l'un des attributs du livre.</p>
<ul>
<li>Vous avez probablement une vague id√©e de ce qu'est un <strong>isbn</strong> (une suite de chiffres).
Pour plus de d√©tails, vous pouvez demander dans le chat de votre assistant de code :
   <code>Pourrais-tu m'expliquer ce qu'est un ISBN ?</code></li>
</ul>
<p>Dans ce projet, la g√©n√©ration d'un ISBN ne nous int√©resse pas, car l'ISBN est attribu√© lors de la publication du livre. Cependant, il est crucial de veiller √† <strong>√©viter toute erreur humaine lors de la saisie d'un ISBN</strong>. Garantir l'<strong>int√©grit√© des donn√©es</strong> (validit√© et exactitude) est essentiel pour maintenir la qualit√© du d√©veloppement.</p>
<p>Un ISBN, comme un num√©ro de carte bancaire ou de carte vitale, dispose probablement d'une <strong>cl√© de contr√¥le</strong> pour <strong>assurer sa validit√©</strong>. Ce n'est donc pas simplement une suite de chiffres al√©atoires, mais un code qui suit une <strong>r√®gle m√©tier</strong>.
Laissez votre assistant de code vous aider √† d√©couvrir et √† impl√©menter cette r√®gle.</p>
<ul>
<li>
<p>Demandez √† votre assistant :<br />
<code>Sais-tu s'il existe une r√®gle sp√©cifique pour savoir si un ISBN est correct ?</code></p>
<p>L'assistant devrait vous fournir une explication et probablement une impl√©mentation Java.
  - Si ce n'est pas le cas, posez-lui directement la question :
 <code>Pourrais-tu me proposer une impl√©mentation java de cette r√®gle m√©tier ?</code></p>
</li>
<li>
<p>Cr√©ez ensuite une nouvelle classe <code>ISBNValidator</code> et ins√©rez-y le code g√©n√©r√© apr√®s avoir rapidement v√©rifi√© que l'impl√©mentation propos√©e semble respecter la description de la r√®gle.</p>
</li>
</ul>
<p><strong>Remarque : Les r√©ponses d'une intelligence g√©n√©rative √©tant probabilistes</strong>, votre assistant peut avoir r√©pondu de diff√©rentes mani√®res aux questions pr√©c√©dentes. Il se peut que, dans la classe <code>ISBNValidator</code>, vous vous retrouviez avec une impl√©mentation qui <strong>v√©rifie un seul type d'ISBN</strong>, alors qu'en r√©alit√© il en existe deux : <strong>ISBN-10</strong> (avant 2007) et <strong>ISBN-13</strong>.</p>
<ul>
<li>
<p>Vous pouvez <strong>approfondir vos connaissance sur cette r√®gle m√©tier</strong> en continuant √† discuter avec l'assistant :
<code>Existe-il un autre type isbn ?</code> (question √† poser si l'assistant n'a mentionn√© qu'ISBN-13)
<code>Quelle est la structure d'un ISBN-10 ?</code>
<code>Quelle est la structure d'un ISBN-13 ?</code>
<code>Quelle est la diff√©rence entre ISBN-10 et ISBN-13 ?</code></p>
</li>
<li>
<p><strong>Si l'assistant ne vous a initialement propos√© qu'une seule m√©thode</strong> pour v√©rifier la validit√© de l'ISBN,</p>
</li>
<li>demandez-lui maintenant :
    <code>Pourrais-tu me proposer une impl√©mentation java pour l'isbn10 ?</code>
    (adaptez bien s√ªr votre question en fonction de ce que vous a d√©j√† propos√© l'assistant de code)</li>
<li>
<p>Ins√©rez ensuite ce nouveau code dans la classe <code>ISBNValidator</code>, en veillant √† ce qu'il corresponde bien √† la r√®gle m√©tier.</p>
</li>
<li>
<p><strong>Veillez toujours √† examiner les r√©ponses g√©n√©r√©es par un assistant avant de les int√©grer √† votre code</strong>. Par exemple, assurez-vous ici que la validation de l'ISBN-10 prend correctement en compte les cas particuliers, comme l'utilisation du caract√®re "X".</p>
</li>
</ul>
<h3 id="tester-la-regle-metier-classe-isbnvalidatortest">Tester la r√®gle m√©tier (classe <code>ISBNValidatorTest</code>)<a class="headerlink" href="#tester-la-regle-metier-classe-isbnvalidatortest" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Ensuite, cr√©ez une classe <code>ISBNValidatorTest</code> et, avec l'aide de votre assistant, g√©n√©rez des tests couvrant les deux m√©thodes de validation de l'ISBN.
<strong>Soyez attentif √† la qualit√© du code de vos tests</strong> et veillez √† ce qu'ils respectent <strong>les bonnes pratiques</strong> : √©vitez d'avoir un seul test avec de multiples assertions et privil√©giez des m√©thodes bien nomm√©es qui respectent le pattern AAA (Arrange, Act, Assert).
Pour cela, il est pr√©f√©rable de s√©lectionner le code √† tester et d'utiliser la commande <code>/test</code> (ou le prompt <code>Generate unit tests</code>) pour g√©n√©rer les tests, plut√¥t que de laisser les tests se g√©n√©rer automatiquement en pla√ßant simplement le curseur dans la classe <code>ISBNValidatorTest</code></p>
</li>
<li>
<p><strong>Lancez les tests. Est-ce que tous les tests passent ?</strong>
Si certains √©chouent, ne modifiez pas le code de production imm√©diatement. V√©rifiez d'abord si les valeurs utilis√©es dans les tests sont correctes : certes, elles font passer le(s) test(s), mais correspondent-elles √† un ISBN valide ?</p>
</li>
<li>
<p>En effet, pour <strong>garantir la qualit√© des tests</strong>, il est crucial d'√™tre <strong>attentif √† la qualit√© des donn√©es de vos tests</strong> (que l'assistant de code ne nous garantit pas forc√©ment).
Pour √™tre s√ªr de <strong>tester avec des donn√©es de qualit√©</strong>, vous allez maintenant <strong><em>revisiter</em></strong> (c-a-d modifier) les tests g√©n√©r√©s et les ajuster <strong>en utilisant comme exemples dans vos tests de <em>v√©ritables valeurs ISBN</em></strong>, √† savoir :</p>
</li>
<li>
<p><code>9780321146533</code> quand votre test est cens√© v√©rifi√© qu'un <strong>ISBN-13 est correct</strong>
    Cet ISBN-13 n'est autre que celui du livre <em>Test-Driven Development</em> de Kent Beck</p>
</li>
<li>
<p><code>020161622X</code> quand votre test est cens√© v√©rifi√© qu'un <strong>ISBN-10 est correct</strong> avec la <strong>pr√©sence d'un X</strong>
    Cet ISBN-10 n'est autre que a version originale de 1999 du livre The Pragmatic Programmer" de Andrew Hunt et David Thomas.
Cet ISBN-10 n'est autre que a version originale de 1999 du livre The Pragmatic Programmer" de Andrew Hunt et David Thomas.</p>
</li>
<li>
<p><code>0321125215</code> quand votre test est cens√© v√©rifi√© qu'un <strong>ISBN-10 est correct</strong>
  Cet ISBN-10 est celui du livre <em>Domain Driven Design</em> d'Eric Evans.</p>
</li>
<li>
<p><strong>Pour tester un ISBN mal form√© ou invalide</strong>, vous pouvez simplement <strong>modifier le dernier chiffre, car celui-ci est la cl√© de contr√¥le</strong>.</p>
</li>
<li>
<p>Si les tests ne passent pas avec les donn√©es de qualit√© ci-dessus, demandez √† votre assistant de vous reg√©n√©rer le code qui pose probl√®me.  </p>
</li>
</ul>
<p><strong>Conseil</strong> : <em>Comme tout refactoring, adoptez une approche m√©thodique pour </em><em>revisiter/ajuster</em><em> vos tests avec les v√©ritables valeurs. Avancez progressivement </em><em>petits pas par petits pas</em><em> : modifiez une valeur, relancez le test correspondant, puis passez au test suivant</em>.</p>
<ul>
<li>Une fois les deux r√®gles de validation d'ISBN impl√©ment√©e, la <em>revisite</em> des tests termin√©e, <strong>relancez tous les tests et la couverture de code</strong> pour vous assurer que la classe ISBNValidator est bien couverte √† 100% en vue d'un petit refactoring du code de production.</li>
</ul>
<h3 id="ameliorer-la-qualite-du-code-de-la-regle-metier">Am√©liorer la qualit√© du code de la r√®gle m√©tier<a class="headerlink" href="#ameliorer-la-qualite-du-code-de-la-regle-metier" title="Permanent link">&para;</a></h3>
<ul>
<li>
<p>Revenez dans la classe <code>ISBNValidator</code>.
L'assistant a g√©n√©r√© un code fonctionnel qui r√©pond au besoin, mais ce code est-il de qualit√© ? Demandez maintenant √† l'assistant :
<code>Comment puis-je am√©liorer la qualit√© du code de la classe ISBNValidator ?</code></p>
</li>
<li>
<p>Une IA g√©n√©rative ayant toujours une r√©ponse √† proposer, l'assistant devrait vous fournir un code de meilleure qualit√©. V√©rifiez que ces am√©liorations vous conviennent (par exemple, les <em>magic numbers</em> ont-ils √©t√© √©limin√©s ? Des m√©thodes ont-elles √©t√© extraites ? Des exceptions ont-elles √©t√© mises en place, etc.).</p>
</li>
<li>
<p><strong>Si la qualit√© de code vous convient</strong>, int√©grez ce code dans votre projet en remplacement du code existant, puis relancez les tests pour vous assurer que les r√®gles de validation de l'ISBN sont toujours respect√©es.</p>
</li>
<li>
<p><strong>Si la qualit√© du code ne correspond pas √† vos attentes</strong>, soyez plus pr√©cis dans vos demandes en ciblant une seule mauvaise odeur √† la fois :
    <code>Pourrais-tu supprimer les magic numbers ?</code></p>
<ul>
<li>Si le code g√©n√©r√© vous convient, int√©grez-le √† la place de l'ancien et relancez les tests.</li>
<li>Si vous pensez pouvoir encore am√©liorer la qualit√© du code, poursuivez la discussion avec votre assistant et continuez le refactoring petit pas par petit pas, en √©liminant chaque mauvaise odeur de code au fur et √† mesure et relan√ßant les tests √† chaque fois.
<code>Pourrais-tu proc√©der √† des extract method ?</code>
<code>[‚Ä¶]</code></li>
</ul>
</li>
</ul>
<p>N'oubliez pas que <strong>c'est votre expertise et vos bonnes pratiques qui garantiront la qualit√© du code</strong>.
Les assistants de code peuvent vous aider √† g√©n√©rer du code rapidement, mais **une revue attentive est n√©cessaire pour √©viter l'accumulation de dette technique, qui pourrait devenir co√ªteuse √† long terme comme le montre certaines √©tudes comme <a href="https://www.gitclear.com/coding_on_copilot_data_shows_ais_downward_pressure_on_code_quality">gitclear</a> et <a href="https://resources.uplevelteam.com/gen-ai-for-coding">uplevelteam</a>.
En effet √† ce jour, les mod√®les des assistants de code tendent √† reproduire la dette technique pr√©sente dans les donn√©es sur lesquelles ils ont √©t√© entra√Æn√©s. Toutefois, au rythme rapide o√π √©voluent les mod√®les de langage (LLM), on peut esp√©rer qu'ils b√©n√©ficieront un jour de jeux de donn√©es plus qualitatifs et de nouvelles techniques d'apprentissage qui pourraient leur permettre d'am√©liorer progressivement la qualit√© du code qu'ils g√©n√®rent.</p>
<h2 id="34-aider-a-lecriture-dune-expression-reguliere-pattern-matching">3.4 Aider √† l'√©criture d'une expression r√©guli√®re (pattern matching)<a class="headerlink" href="#34-aider-a-lecriture-dune-expression-reguliere-pattern-matching" title="Permanent link">&para;</a></h2>
<p>Les expressions r√©guli√®res sont des mod√®les utilis√©s pour identifier des combinaisons sp√©cifiques de caract√®res dans des cha√Ænes.
<strong>Ecrire une expression r√©guli√®re est souvent per√ßue comme une t√¢che fastidieuse par les d√©veloppeurs</strong>, l'assistant de code peut vous aider √† les g√©n√©rer rapidement.</p>
<ul>
<li>Ouvrez la classe <code>LibraryMember</code> et demandez √† votre assistant dans le chat :
<code>Pourrais-tu me cr√©er une expression r√©guli√®re pour valider un email ?</code></li>
</ul>
<p>L'assistant vous proposera probablement une expression r√©guli√®re dont la premi√®re partie ressemble √† : <code>^[a-zA-Z0-9._%+-]+</code> o√π :
&#8594; le symbole <code>^</code> marque le d√©but de la ligne : l'adresse e-mail doit commencer ici.
&#8594; La partie entre crochets <code>[‚Ä¶]+</code> sp√©cifie que l'adresse e-mail doit contenir un ou plusieurs (<code>+</code>) caract√®res d√©finis √† l'int√©rieur des crochets : minuscules (<code>a-z</code>), majuscules (<code>A-Z</code>), chiffres (<code>0-9</code>), ou certains caract√®res sp√©ciaux comme le point (<code>.</code>), l'underscore (<code>_</code>), le pourcentage (<code>%</code>), le signe plus (<code>+</code>) ou le trait d'union (<code>-</code>).
&#8594; La partie qui suit le symbole <code>@</code>, obligatoire dans toute adresse e-mail, peut varier, et donc √™tre plus ou moins contraignante, en fonction de la r√©ponse g√©n√©r√©e par l'assistant, qui reste probabiliste. Si vous avez des exigences sp√©cifiques pour cette partie de l'expression, n'h√©sitez pas √† les indiquer √† l'assistant afin d'affiner le mod√®le.</p>
<p><strong>Gardez √† l'esprit que l'assistant peut vous faire gagner du temps en limitant les t√¢ches r√©p√©titives et fastidieuses, mais qu'il est essentiel de toujours v√©rifier et ajuster le code g√©n√©r√© pour qu'il r√©ponde pr√©cis√©ment √† vos besoins.</strong></p>
<ul>
<li>
<p>Si vous souhaitez <strong>approfondir la contrainte sur les noms de domaine</strong>, vous pouvez poser la question suivante √† l'assistant :
<code>Quelles sont les r√®gles classiques pour les noms de domaines dans les emails ?</code></p>
</li>
<li>
<p>Une fois que vous avez pris connaissance de ces r√®gles,  demandez √† votre assistant de r√©√©crire la m√©thode <code>isValidEmail</code> en tenant compte de ces contraintes.</p>
</li>
</ul>
<h2 id="35-discuter-pour-le-plaisir-de-decouvrir-de-nouveaux-outils">3.5 Discuter pour le plaisir de d√©couvrir de nouveaux outils<a class="headerlink" href="#35-discuter-pour-le-plaisir-de-decouvrir-de-nouveaux-outils" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>La validation des e-mails n'est pas une fonctionnalit√© propre √† votre application.
Il est √©vident que de nombreux d√©veloppeurs ont d√©j√† impl√©ment√© cette r√®gle avant vous.
Par curiosit√©, vous pourriez demander √† votre assistant :
<code>Pourrais-tu √©crire ce code autrement ?</code>
<code>Y-a-t-il d'autres m√©thodes que le pattern matching pour valider un mail ?</code></p>
</li>
<li>
<p>Votre assistant vous incitera certainement √† approfondir vos connaissances dans ce domaine en vous proposant des questions comme :
<code>Quelles sont les autres m√©thodes pour valider une adresse e-mail en Java ?</code>
<code>Quelles biblioth√®ques tierces existent pour valider une adresse e-mail en Java ?</code>
<code>[‚Ä¶]</code></p>
</li>
</ul>
<p>Vous d√©couvrirez ainsi qu'il existe plusieurs approches pour valider une adresse e-mail, en plus du pattern matching. Pourquoi r√©inventer la roue ? Apr√®s cette discussion enrichissante, vous pourrez choisir la solution la plus adapt√©e √† vos besoins.</p>
<h2 id="36-aider-a-lutilisation-de-streams-et-lambdas">3.6 Aider √† l'utilisation de streams et lambdas<a class="headerlink" href="#36-aider-a-lutilisation-de-streams-et-lambdas" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Placez-vous √† la fin de la classe <code>Library</code>, commencez √† taper :<br />
<code>public List&lt;Book&gt; search</code>  </p>
</li>
<li>
<p>Laissez l'assistant de code proposer une signature et une impl√©mentation.
L'objectif est de continuer √† taper jusqu'√† ce qu'il propose de g√©n√©rer la m√©thode suivante :
 <code>public List&lt;Book&gt; searchBookByTitle(String Title)</code>
Apr√®s avoir rapidement v√©rifi√© que l'impl√©mentation de cette m√©thode correspond √† son intention m√©tier, <strong>validez-la</strong>.</p>
</li>
<li>
<p>Utilisez ensuite l'assistant pour g√©n√©rer les tests qui couvrent cette m√©thode en s√©lectionnant le code de la m√©thode et en utilisant <code>/tests</code>
Faites compiler le code en ajoutant √©ventuellement les <code>imports</code> n√©cessaires.</p>
</li>
</ul>
<p>Si un test √©choue, examinez attentivement la <strong>qualit√© des donn√©es utilis√©es dans ce test</strong>.
    En effet, si tout comme moi, les probabilit√©s ne sont pas avec vous aujourd'hui, vous pourriez √™tre victime de l'<strong>hallucination</strong> suivante :
<img alt="hallucinataion sur les donn√©es du test g√©n√©r√©" src="../../assets/Hallucination_DonneesTest.png" title="hallucinataion sur les donn√©es du test g√©n√©r√©" /></p>
<p>&#8594; √Ä premi√®re vue, les donn√©es du test peuvent para√Ætre correctes, mais le test √©choue sur l'assertion <code>assertTrue</code>. En effet, l'assistant de code a utilis√©, par erreur, la valeur d'un <strong>auteur</strong> d'un livre comme param√®tre dans la m√©thode <code>searchBookByTitle</code> au lieu de la valeur d'un <strong>titre</strong>.
    Cette confusion est probablement due √† la <strong><em>primitive obsession</em></strong> dans la signature du constructeur de <code>Book</code>, qui prend trop de param√®tres de type <code>String</code>.
    <strong>L'assistant n'a donc pas su faire la distinction entre les diff√©rents param√®tres <code>String</code> et n'a pas reconnu celui correspondant au <code>titre</code>.</strong>
    Pour faire passer le test avec les donn√©es actuelles, il faudrait donc passer <code>123</code> en param√®tre √† la place de <code>Effective Java</code>.</p>
<p>&#8594; Cependant, en √©crivant <code>123</code> comme param√®tre d'entr√©e pour la m√©thode <code>searchBooksByTitle</code>, vous vous rendez compte que les donn√©es de test sont de mauvaise qualit√©. En effet, pour un ≈ìil humain, dans le contexte m√©tier de l'application, <code>Clean Code</code> ou <code>Effective Java</code> sont de v√©ritables titres de livres.
    Dans les tests qu'il a g√©n√©r√©s, l'assistant a pris ces valeurs comme exemples pour les noms d'auteurs, ce qui est inappropri√© et risque d'induire des erreurs/confusions lors de la (re)lecture ou de l'interpr√©tation manuelle des tests.<br />
    Au passage, on peut √©galement noter que l'ISBN utilis√© dans l'exemple du livre <em>Effective Java</em> n'√©tait pas le <em>bon</em> car c'est en r√©alit√© le v√©ritable ISBN du livre <em>Design Patterns: Elements of Reusable Object Oriented Software</em> du Gang of Four üòâ.</p>
<p>&#8594; Pour am√©liorer la lisibilit√© (et donc la compr√©hension) de votre test, il est recommand√© d'ajuster le test avec de <strong>v√©ritables valeurs m√©tiers</strong>, plus pertinentes et coh√©rentes.<br />
Le test pr√©c√©dent, revisit√© dans ce sens, ressemble maintenant √† cela :</p>
<p><img alt="Correction de l'hallucinataion sur les donn√©es du test g√©n√©r√©" src="../../assets/Hallucination_DonneesTest_Correction.png" title="Correction de l'hallucinataion sur les donn√©es du test g√©n√©r√©" /></p>
<p>Cette hallucination nous donne l'occasion de rappeler qu'<strong>il faut √™tre tr√®s vigilant √† la qualit√© des donn√©es dans les tests g√©n√©r√©s</strong>, et que les valeurs prises comme exemple, tout comme le code, n√©cessitent une relecture de votre part.<br />
Toutefois, il est int√©ressant de remarquer qu'une <strong>hallucination</strong> de l'assistant peut aussi <strong>mettre sur la voie des probl√®mes de conception</strong> (mauvaises odeurs), que seule votre expertise d√©tectera.</p>
<ul>
<li>
<p>Une fois les tests corrig√©s, <strong>relancez-les</strong> pour vous assurer qu'ils passent bien tous.</p>
</li>
<li>
<p>Si l'assistant a g√©n√©r√© un code utilisant une boucle <code>for</code>, mais que vous pr√©f√©rez travailler avec des <strong>streams</strong>, s√©lectionnez tout le code de la m√©thode <code>searchBookByTitle</code> et demandez √† votre assistant :<br />
<code>refactor this to use streams</code><br />
Remplacez ensuite le code existant par celui g√©n√©r√©, puis relancez les tests pour v√©rifier que le comportement reste inchang√©.</p>
</li>
</ul>
<h2 id="37-suggerer-du-code-plus-complexe-avec-streams">3.7 Sugg√©rer du code plus complexe (avec streams)<a class="headerlink" href="#37-suggerer-du-code-plus-complexe-avec-streams" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p>Placez-vous maintenant √† la fin de la classe <code>Library</code> et tapez dans votre code un commentaire d√©crivant une fonctionnalit√© plus complexe comme par exemple :<br />
<code>Implement a method to sort books by year, then by author name</code></p>
</li>
<li>
<p>Essayez √©galement le commentaire suivant :
<code>Implement a method to search for books by keyword in title or author</code></p>
</li>
</ul>
<p>L'assistant vous proposera probablement une impl√©mentation utilisant directement des streams et des lambdas (<code>-&gt;</code>).
Si ce n'est pas le cas, demandez-lui de refactorer le code en utilisant des streams, comme pr√©c√©demment.</p>
<h2 id="38-explorer-dautres-cas-dusage">3.8 Explorer d'autres cas d'usage<a class="headerlink" href="#38-explorer-dautres-cas-dusage" title="Permanent link">&para;</a></h2>
<p>Le dernier petit cas d'usage que vous allez explorer dans ce projet est la conversion entre formats de donn√©es
Demandez √† votre assistant via le chat :
<code>Ajoute une m√©thode pour exporter les donn√©es des livres en JSON</code></p>
<p>L'assistant devrait alors vous guider sur o√π et comment impl√©menter cette m√©thode.</p>
<p>En fonction de votre contexte et de vos besoins, vous d√©couvrirez encore de nombreux cas d'usage tout au long de vos phases de d√©veloppement. √Ä vous de jouer !</p>
<hr />
<p><strong><em>Acc√©dez donc maintenant √† la partie suivante qui est : <a href="../4_ProjetExistantComplexe/">4. Aider √† la mise en place de nouvelles r√®gles m√©tiers sur un projet existant simple</a> ou retournez √† l'<a href="../">Accueil</a>.</em></strong></p>
<hr />
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../2_PriseEnMainAssistant/" class="btn btn-neutral float-left" title="Prise en main de l'assistant de code"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../4_ProjetExistantComplexe/" class="btn btn-neutral float-right" title="Reprise d'un projet complexe existant (legacy code)">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../2_PriseEnMainAssistant/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../4_ProjetExistantComplexe/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
